<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para Esmu üíñ</title>

<style>
:root{
  --bg1:#140012;
  --bg2:#33001b;
  --text:#ffe7ee;
  --heart:#ff184c;
}

*{box-sizing:border-box;}
html,body{height:100%;margin:0;}

body{
  overflow:hidden;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--text);
  background:
    radial-gradient(1200px 600px at 20% 10%, rgba(255,77,125,.18), transparent 55%),
    radial-gradient(900px 500px at 80% 30%, rgba(255,77,125,.14), transparent 60%),
    linear-gradient(160deg, var(--bg1), var(--bg2));
}

.scene{
  width:100%;
  height:100%;
  display:flex;
  justify-content:center;
  align-items:center;
}

.card{
  position:relative;
  width:min(760px,92vw);
  height:min(560px,84vh);
  border-radius:26px;
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.12);
  box-shadow:0 20px 60px rgba(0,0,0,.45);
  backdrop-filter:blur(10px);
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  overflow:hidden;
}

/* ROSA */

.rose{
  width:260px;
  cursor:pointer;
  animation:breathe 4s ease-in-out infinite;
}

@keyframes breathe{
  0%,100%{transform:scale(1);}
  50%{transform:scale(1.05);}
}

/* PETALOS */

#petals{
  position:absolute;
  inset:0;
  pointer-events:none;
}

.petal{
  position:absolute;
  top:-40px;
  width:18px;
  height:26px;
  border-radius:70%;
  background:linear-gradient(160deg,#ff6a8c,#b1002a);
  animation:fall linear forwards;
}

@keyframes fall{
  to{
    transform:translateY(100vh) rotate(360deg);
    opacity:0;
  }
}

.note{
  position:absolute;
  bottom:20px;
  width:90%;
  text-align:center;
  padding:12px;
  background:rgba(0,0,0,.3);
  border-radius:18px;
}

.heart-btn{
  margin-top:20px;
  width:64px;
  height:64px;
  border-radius:50%;
  border:none;
  font-size:28px;
  background:radial-gradient(circle,#ff6a8c,#ff184c);
  color:white;
  cursor:pointer;
}

.modal-backdrop{
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.6);
  display:none;
  justify-content:center;
  align-items:center;
}

.modal{
  width:min(680px,92vw);
  max-height:75vh;
  overflow:auto;
  background:rgba(255,255,255,.12);
  padding:24px;
  border-radius:18px;
  backdrop-filter:blur(12px);
  position:relative;
}

.modal button{
  position:absolute;
  right:12px;
  top:12px;
  background:none;
  border:none;
  font-size:20px;
  color:white;
  cursor:pointer;
}

audio{display:none;}
</style>
</head>

<body>

<div class="scene">
<div class="card">

<!-- ROSA -->
<svg class="rose" id="rose" viewBox="0 0 400 500">

<defs>
<radialGradient id="petalGrad" cx="50%" cy="50%" r="70%">
<stop offset="0%" stop-color="#ff4d6d"/>
<stop offset="100%" stop-color="#8b001f"/>
</radialGradient>
</defs>

<path d="M200 250 C190 350 180 400 200 480 C220 400 210 350 200 250"
stroke="#0f6b2f" stroke-width="8" fill="none"/>

<path d="M200 320 C140 300 140 360 200 350" fill="#1b8f3c"/>
<path d="M200 340 C260 310 260 370 200 360" fill="#1b8f3c"/>

<ellipse cx="200" cy="170" rx="70" ry="60" fill="url(#petalGrad)"/>
<ellipse cx="170" cy="150" rx="60" ry="50" fill="url(#petalGrad)"/>
<ellipse cx="230" cy="150" rx="60" ry="50" fill="url(#petalGrad)"/>
<ellipse cx="200" cy="130" rx="55" ry="45" fill="#b1002a"/>
<ellipse cx="200" cy="115" rx="35" ry="30" fill="#8b001f"/>

</svg>

<button class="heart-btn" id="heart">‚ù§</button>

<div class="note">
No s√© c√≥mo decirlo mejor‚Ä¶ pero eres hermosa. üíñ
</div>

<div id="petals"></div>

<div class="modal-backdrop" id="backdrop">
  <div class="modal">
    <button id="closeModal">‚úï</button>
    <h3>Para Esmu üíñ</h3>
    <p>
Hola, Esmu. Te deseo un lindo D√≠a de San Valent√≠n;<br><br>
y no solo en este d√≠a eres especial.  
Eres una persona que se volvi√≥ importante en muy poquito tiempo,
y he aprendido mucho de ti: a ser muy fuerte ante los problemas.<br><br>
Eres una mujer y madre con much√≠simo valor.<br><br>
Hay tantas cosas incre√≠bles que podr√≠a decir de ti
que no acabar√≠a de escribirlas.<br><br>
Te quiero much√≠simo; siempre deseo lo mejor para ti.<br><br>
Y aunque estemos lejos, siempre te siento cerquita. üíñ
    </p>
  </div>
</div>

<audio id="music" preload="auto" loop>
<source src="Musica.mp3" type="audio/mpeg">
</audio>

</div>
</div>

<script>
const rose = document.getElementById("rose");
const music = document.getElementById("music");
const petals = document.getElementById("petals");
const heart = document.getElementById("heart");
const backdrop = document.getElementById("backdrop");
const closeModal = document.getElementById("closeModal");

function playMusic(){
  music.volume = 0.5;
  const p = music.play();
  if(p !== undefined){ p.catch(()=>{}); }
}

function createPetal(light = true){
  const p = document.createElement("div");
  p.className = "petal";
  p.style.left = Math.random() * 100 + "%";
  p.style.animationDuration = light
    ? (6 + Math.random()*3) + "s"
    : (3 + Math.random()*2) + "s";
  petals.appendChild(p);
  setTimeout(()=>p.remove(),9000);
}

function heavyRain(){
  for(let i=0;i<40;i++){
    createPetal(false);
  }
}

/* Siempre suave */
setInterval(()=>{
  createPetal(true);
}, 600);

rose.addEventListener("click",()=>{
  playMusic();
  heavyRain();
});

heart.addEventListener("click",()=>{
  backdrop.style.display="flex";
  playMusic();
});

closeModal.addEventListener("click",()=>{
  backdrop.style.display="none";
});

backdrop.addEventListener("click",(e)=>{
  if(e.target===backdrop){
    backdrop.style.display="none";
  }
});
</script>

</body>
</html>
